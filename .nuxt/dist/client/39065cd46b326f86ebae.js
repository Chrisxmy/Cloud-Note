(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{184:function(t,e,n){var content=n(198);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("06444ad5",content,!0,{sourceMap:!1})},185:function(t,e,n){var content=n(200);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("117a3265",content,!0,{sourceMap:!1})},190:function(t,e,n){var content=n(213);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("175c86e9",content,!0,{sourceMap:!1})},195:function(t,e,n){"use strict";var o={name:"mPopover",props:{position:{type:String,default:"top",validator:function(t){return["top","bottom","left","right"].indexOf(t)>=0}},trigger:{type:String,default:"click",validator:function(t){return["click","hover"].indexOf(t)>=0}}},data:function(){return{visible:!1}},mounted:function(){this.addPopoverListeners()},beforeDestroy:function(){this.putBackContent(),this.removePopoverListeners()},computed:{openEvent:function(){return"click"===this.trigger?"click":"mouseenter"},closeEvent:function(){return"click"===this.trigger?"click":"mouseleave"}},methods:{addPopoverListeners:function(){"click"===this.trigger?this.$refs.popover.addEventListener("click",this.onClick):(this.$refs.popover.addEventListener("mouseenter",this.open),this.$refs.popover.addEventListener("mouseleave",this.close))},removePopoverListeners:function(){"click"===this.trigger?this.$refs.popover.removeEventListener("click",this.onClick):(this.$refs.popover.removeEventListener("mouseenter",this.open),this.$refs.popover.removeEventListener("mouseleave",this.close))},putBackContent:function(){var t=this.$refs,e=t.contentWrapper,n=t.popover;e&&n.appendChild(e)},positionContent:function(){var t=this.$refs,e=t.contentWrapper,n=t.triggerWrapper;document.body.appendChild(e);var o=n.getBoundingClientRect(),r=o.width,c=o.height,l=o.top,d=o.left,f=e.getBoundingClientRect().height,m={top:{top:l+window.scrollY,left:d+window.scrollX},bottom:{top:l+c+window.scrollY,left:d+window.scrollX},left:{top:l+window.scrollY+(c-f)/2,left:d+window.scrollX},right:{top:l+window.scrollY+(c-f)/2,left:d+window.scrollX+r}};e.style.left=m[this.position].left+"px",e.style.top=m[this.position].top+"px"},onClickDocument:function(t){this.$refs.popover&&(this.$refs.popover===t.target||this.$refs.popover.contains(t.target))||this.$refs.contentWrapper&&(this.$refs.contentWrapper===t.target||this.$refs.contentWrapper.contains(t.target))||this.close()},open:function(){var t=this;this.visible=!0,this.$nextTick(function(){t.positionContent(),document.addEventListener("click",t.onClickDocument)})},close:function(){this.visible=!1,document.removeEventListener("click",this.onClickDocument)},onClick:function(t){this.$refs.triggerWrapper.contains(t.target)&&(!0===this.visible?this.close():this.open())}}},r=(n(197),n(34)),component=Object(r.a)(o,function(){var t,e=this.$createElement,n=this._self._c||e;return n("div",{ref:"popover",staticClass:"popover"},[this.visible?n("div",{ref:"contentWrapper",staticClass:"content-wrapper",class:(t={},t["position-"+this.position]=!0,t)},[this._t("content",null,{close:this.close})],2):this._e(),this._v(" "),n("span",{ref:"triggerWrapper",staticStyle:{display:"inline-block"}},[this._t("default")],2)])},[],!1,null,"76120395",null);e.a=component.exports},196:function(t,e,n){t.exports=n.p+"img/fa2c050.png"},197:function(t,e,n){"use strict";var o=n(184);n.n(o).a},198:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,'.popover[data-v-76120395]{display:inline-block;vertical-align:top;position:relative}.content-wrapper[data-v-76120395]{position:absolute;border:1px solid #ccc;border-radius:4px;background:#fff;padding:.5em 1em;max-width:20em;word-break:break-all;cursor:pointer}.content-wrapper[data-v-76120395]:after,.content-wrapper[data-v-76120395]:before{content:"";display:block;border:10px solid transparent;width:0;height:0;position:absolute}.content-wrapper.position-top[data-v-76120395]{-webkit-transform:translateY(-100%);transform:translateY(-100%);margin-top:-10px}.content-wrapper.position-top[data-v-76120395]:after,.content-wrapper.position-top[data-v-76120395]:before{left:10px}.content-wrapper.position-top[data-v-76120395]:before{border-top-color:#ccc;border-bottom:none;top:100%}.content-wrapper.position-top[data-v-76120395]:after{border-top-color:#fff;border-bottom:none;top:calc(100% - 1px)}.content-wrapper.position-bottom[data-v-76120395]{margin-top:10px}.content-wrapper.position-bottom[data-v-76120395]:after,.content-wrapper.position-bottom[data-v-76120395]:before{left:10px}.content-wrapper.position-bottom[data-v-76120395]:before{border-top:none;border-bottom-color:#ccc;bottom:100%}.content-wrapper.position-bottom[data-v-76120395]:after{border-top:none;border-bottom-color:#fff;bottom:calc(100% - 1px)}.content-wrapper.position-left[data-v-76120395]{-webkit-transform:translateX(-100%);transform:translateX(-100%);margin-left:-10px}.content-wrapper.position-left[data-v-76120395]:after,.content-wrapper.position-left[data-v-76120395]:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);top:50%}.content-wrapper.position-left[data-v-76120395]:before{border-left-color:#ccc;border-right:none;left:100%}.content-wrapper.position-left[data-v-76120395]:after{border-left-color:#fff;border-right:none;left:calc(100% - 1px)}.content-wrapper.position-right[data-v-76120395]{margin-left:10px}.content-wrapper.position-right[data-v-76120395]:after,.content-wrapper.position-right[data-v-76120395]:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);top:50%}.content-wrapper.position-right[data-v-76120395]:before{border-right-color:#ccc;border-left:none;right:100%}.content-wrapper.position-right[data-v-76120395]:after{border-right-color:#fff;border-left:none;right:calc(100% - 1px)}',""])},199:function(t,e,n){"use strict";var o=n(185);n.n(o).a},200:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".m-aside{height:100%;flex-basis:60px;background:#f8f8f8;padding:40px 20px;position:relative;z-index:2}.m-aside header{color:#fff;align-items:center;margin-bottom:40px}.m-aside .info,.m-aside header{display:flex;justify-content:space-between}.m-aside .info{height:100%;flex-direction:column}.m-aside .tab-list{color:#263d96;font-size:12px}.m-aside .tab-list li{cursor:pointer;margin-bottom:30px;border:1px solid #ccc;border-radius:50%;display:inline-block;padding:10px;transition:.4s}.m-aside .tab-list .nuxt-link-exact-active,.m-aside .tab-list li:hover{background:#727abd;color:#fff;border-color:#727abd}.m-aside .user{cursor:pointer}.m-aside .user img{height:45px;width:45px;display:inline-block}",""])},201:function(t,e,n){var content=n(236);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("8beba00e",content,!0,{sourceMap:!1})},202:function(t,e,n){var content=n(238);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("07fb42c3",content,!0,{sourceMap:!1})},209:function(t,e,n){"use strict";n(49);var o={computed:{user:function(){return this.$store.state.user}},methods:{loginOut:function(){this.$axios.post("/logOut"),this.$router.push("/login")}},components:{mPopover:n(195).a}},r=(n(199),n(34)),component=Object(r.a)(o,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"m-aside"},[o("div",{staticClass:"info"},[o("ul",{staticClass:"tab-list"},[t._m(0),t._v(" "),o("nuxt-link",{attrs:{to:"/main",tag:"li"}},[o("i",{staticClass:"iconfont icon-note"})]),t._v(" "),o("nuxt-link",{attrs:{to:"/book",tag:"li"}},[o("i",{staticClass:"iconfont icon-notebook"})]),t._v(" "),o("nuxt-link",{attrs:{to:"/trash",tag:"li"}},[o("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),o("nuxt-link",{attrs:{to:"/search",tag:"li"}},[o("i",{staticClass:"iconfont icon-search"})])],1),t._v(" "),o("m-popover",{attrs:{position:"right"}},[t.user?o("div",{staticClass:"user"},[o("img",{attrs:{src:n(196)}})]):t._e(),t._v(" "),o("template",{slot:"content"},[o("span",{on:{click:t.loginOut}},[t._v("登出")])])],2)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticStyle:{color:"#ffbd39"}},[e("i",{staticClass:"iconfont icon-star"})])}],!1,null,null,null);e.a=component.exports},212:function(t,e,n){"use strict";var o=n(190);n.n(o).a},213:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".m-button{font-size:14px;height:2em;padding:0 1em;border-radius:4px;border:1px solid #727abd;background:#727abd;color:#fff;cursor:pointer}",""])},222:function(t,e,n){"use strict";var o={name:"mButton",props:{icon:{},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},iconPosition:{type:String,default:"left",validator:function(t){return!("left"!==t&&"right"!==t)}}}},r=(n(212),n(34)),component=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"m-button",class:["icon-"+t.iconPosition,t.disabled?"m-button--disabled":""],attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[n("div",{staticClass:"m-button-content"},[t._t("default")],2)])},[],!1,null,null,null);e.a=component.exports},235:function(t,e,n){"use strict";var o=n(201);n.n(o).a},236:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".m-confirm{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:1px solid #eee;box-sizing:border-box;z-index:99;background:#fff;border-radius:4px}.m-confirm--container{padding:10px;width:300px}.m-confirm--container .header{display:flex;justify-content:space-between}.m-confirm--container .header .close{cursor:pointer;font-size:16px}.m-confirm--container .body{padding:10px 0 40px}.m-confirm--container .footer{display:flex;justify-content:flex-end}.m-confirm--container .footer button{outline:none;padding:.5em 1em;border:none;background:#fff;border-radius:4px;cursor:pointer}.m-confirm--container .footer .confirm{background:#7568f3;color:#fff;border:1px solid #7568f3;margin-left:6px}.m-confirm--container .footer .cancel{border:1px solid #eee}@-webkit-keyframes mask{0%{opacity:.2}to{opacity:1}}@keyframes mask{0%{opacity:.2}to{opacity:1}}.m-mask{position:fixed;left:0;top:0;right:0;border-bottom:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:98;-webkit-animation:mask .2s;animation:mask .2s}.dialog-fade-enter-active,.dialog-fade-leave-active{transition:all .3s ease}.dialog-fade-enter,.dialog-fade-leave-to{-webkit-transform:translate(-50%,-60%);transform:translate(-50%,-60%);opacity:.2}",""])},237:function(t,e,n){"use strict";var o=n(202);n.n(o).a},238:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".m-message[data-v-7313c348]{position:fixed;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:20px;width:380px;text-align:center;z-index:99}.m-message--main[data-v-7313c348]{padding:10px;background:#ccc;border-radius:4px;display:flex;align-items:center}.m-message--icon[data-v-7313c348]{margin-right:5px}.m-message--success[data-v-7313c348]{color:#67c23a;background:#f0f9eb;border-color:#67c23a}.m-message--warning[data-v-7313c348]{color:#e6a23c;background:#fdf6ec;border-color:#e6a23c}.m-message--error[data-v-7313c348]{color:#f56c6c;background:#fef0f0;border-color:#f56c6c}.m-message .slide-fade-enter-active[data-v-7313c348],.m-message .slide-fade-leave-active[data-v-7313c348]{transition:all .5s ease}.m-message .slide-fade-enter[data-v-7313c348],.m-message .slide-fade-leave-to[data-v-7313c348]{-webkit-transform:translateY(-40px);transform:translateY(-40px);opacity:0}",""])},239:function(t,e,n){var content=n(285);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("382bc8cf",content,!0,{sourceMap:!1})},256:function(t,e,n){"use strict";n(36);var o=n(11),r=0;var c,l={data:function(){return{notices:[]}},methods:{add:function(t){var e=this,n="alert"+r++,c=Object(o.a)({name:n},t);this.notices.push(c);var l=t.duration||1,d=setTimeout(function(){e.remove(n),clearTimeout(d)},2e3*l)},remove:function(t){for(var e=this.notices,i=0;i<e.length;i++)if(e[i].name===t){this.notices.splice(i,1);break}}}},d=(n(237),n(34)),f=Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-message"},[n("transition",{attrs:{name:"slide-fade"}},t._l(t.notices,function(e,o){return n("div",{key:o,staticClass:"m-message--main",class:[t.type?"m-message--"+t.type:""]},[n("span",{staticClass:"m-message--message"},[t._v(t._s(e.content))])])}),0)],1)},[],!1,null,"7313c348",null).exports,m=n(0),v=function(t){return c=new m.a({render:function(e){return e(f,{props:t})}}).$mount(),document.body.appendChild(c.$el),c.$children[0]};function h(t){var e=v(t);e.type=t.type||"success",e.add({content:e.text||"请输入提示文字"})}h.success=function(content){var t=v();t.type="success",t.add({content:content})},h.error=function(content){var t=v();t.type="error",t.add({content:content})},m.a.prototype.$message=h},257:function(t,e,n){"use strict";var o,r={name:"mConfirm",data:function(){return{visible:!1}},mounted:function(){this.onRouteChange(),this.localScroll()},methods:{handleAction:function(t){"success"===t?this.success():this.cancel(),this.canScroll()},onRouteChange:function(){var t=this,e=function(){t.handleAction()};window.addEventListener("hashchange",e),window.addEventListener("popstate",e),window.addEventListener("pagehide",e)},localScroll:function(){document.documentElement.style.overflowY="hidden"},canScroll:function(){document.documentElement.style.overflowY="scroll"}},beforeDestroy:function(){this.canScroll(),this.$el.remove()}},c=(n(235),n(34)),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"dialog-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"m-confirm"},[n("div",{staticClass:"m-confirm--container"},[n("div",{staticClass:"header"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("span",{staticClass:"close",on:{click:function(e){return t.handleAction("cancel")}}},[t._v("x")])]),t._v(" "),n("div",{staticClass:"body"},[t._v("\n            "+t._s(t.message)+"\n        ")]),t._v(" "),n("div",{staticClass:"footer"},[n("button",{staticClass:"cancel",on:{click:function(e){return t.handleAction("cancel")}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"confirm",on:{click:function(e){return t.handleAction("success")}}},[t._v("确认")])])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"m-mask"})],1)},[],!1,null,null,null).exports,d=n(0),f=d.a.extend(l);function m(){o&&(o.visible=!1,o.$el.remove(),o=null)}d.a.prototype.$confirm=function(t,title,e){return function(t,title){o||((o=new f({el:document.createElement("div"),data:{message:t||"这是一段内容",title:title||"提示"}})).visible=!0,document.body.appendChild(o.$el))}(t,title),new Promise(function(t,e){o.success=function(){t(),m()},o.cancel=function(){e(),m()}})}},284:function(t,e,n){"use strict";var o=n(239);n.n(o).a},285:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".sort-list{padding:20px 0}.sort-list li{margin-bottom:10px}.container{display:flex;height:100%}.container .note-list{flex-basis:300px;min-width:300px;transition:min-width .4s,flex-basis .4s,-webkit-transform .4s;transition:min-width .4s,flex-basis .4s,transform .4s;transition:min-width .4s,flex-basis .4s,transform .4s,-webkit-transform .4s}.container .note-list.animate{opacity:0;-webkit-transform:translateX(-300px);transform:translateX(-300px);min-width:0;flex-basis:0px}.container .note-list .header{padding:20px 20px 10px;border-bottom:1px solid #ccc;display:flex;flex-wrap:wrap;align-content:space-between;height:100px}.container .note-list .header .row{flex-basis:100%;display:flex;justify-content:space-between}.container .note-list .header h3{color:#311abf}.container .note-list .list{overflow-y:scroll;height:calc(100% - 100px)}.container .note-list .list::-webkit-scrollbar{display:none}.container .note-list .list li{box-sizing:border-box;cursor:pointer;padding:20px 20px 40px;justify-content:space-between;border:1px solid #fff;height:140px}.container .note-list .list li.active{border:1px solid #727abd}.container .note-list .list li:hover{background:#727abd;color:#fff;border:1px solid #727abd}.container .note-list .list li .title{display:flex;justify-content:space-between;margin-bottom:5px}.container .note-list .list li time{display:inline-block;margin-bottom:10px;color:#ccc;font-size:12px}.container .note-list .list li .content{max-width:200px;word-wrap:break-word}.container .editor{flex-grow:1;display:flex;flex-direction:column;height:calc(100% - 90px)}.container .editor .header{display:flex;justify-content:space-between;border-left:1px solid #ccc;padding:15px 20px}",""])},366:function(t,e,n){"use strict";n.r(e);n(98);var o=n(11),r=(n(35),n(3)),c=n(195),aside=n(209),l=n(222),d=(n(257),n(256),{fetch:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.app,e.store,e.params;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,o,r,c,title,content,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,t.next=3,n.$axios.get("/notebook");case 3:return o=t.sent,t.next=6,n.$axios.get("/note",{params:{isTrashed:0}});case 6:return r=t.sent,{},r.data&&r.data.length>0&&(c=r.data[0],title=c.title,content=c.content,l=c.id,{title:title,content:content,id:l}),t.abrupt("return",{notes:r.data,noteEditing:{},books:o.data});case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),data:function(){return{editing:!1,editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}},currentBook:{id:null,name:"全部笔记"}}},created:function(){this.noteEditing=Object(o.a)({},this.currentNote)},mounted:function(){var t=this.$refs[this.currentNote.id],e=t&&t[0].offsetTop,n=this.$refs.list,o=n&&n.offsetTop;n.scrollTop=e-o},computed:{substr:function(t){return function(t){return t&&t.length>20?t.substr(0,20)+"...":t}},currentNote:function(){return this.$store.state.currentNote}},methods:{sort:function(t,e){this.notes.sort(function(a,b){return"DESC"===e?b[t]-a[t]:a[t]-b[t]})},enterFullScreen:function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():alert("该浏览器不支持全屏")},initNotes:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/note",{params:{isTrashed:0}});case 2:e=t.sent,this.notes=e.data,(n=e.data.find(function(t,e){if(o.noteEditing.id===t.id)return o.active=e,!0}))&&(this.noteEditing={title:n.title,content:n.content,id:n.id});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),selectBook:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return this.currentBook={name:"全部笔记",id:""},this.initNotes(),t.abrupt("return");case 4:return this.currentBook.name=e.bookname,this.currentBook.id=e.id,t.next=8,this.$axios.get("/note/".concat(e.id));case 8:n=t.sent,this.notes=n.data;case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),selectNote:function(t){this.$store.dispatch("setCurrentNote",t);var title=t.title,content=t.content,e=t.id;this.noteEditing={title:title,content:content,id:e}},addNote:function(){this.editing=!0,this.noteEditing={title:"",content:"",id:""}},cancelEditing:function(){this.editing=!1,this.noteEditing={title:"",content:"",id:""}},deleteNote:function(t){var e=this;t&&this.$confirm("确认删除?").then(function(){e.$axios.patch("/note/trashOrRecover/".concat(t),{isTrashed:1}).then(function(t){0===t.code&&e.initNotes()})})},saveNote:function(){var t=this;this.noteEditing.notebookId||(this.noteEditing.notebookId=this.currentBook.id),this.$axios.post("/note",this.noteEditing).then(function(e){0===e.code?(t.editing=!1,t.noteEditing.id=e.data.id,t.notes.push(e.data)):t.$message.error(e.message)})},updateNote:function(){var t=this;this.noteEditing.id&&this.$axios.patch("/note/".concat(this.noteEditing.id),this.noteEditing).then(function(e){t.initNotes()})},onEditorReady:function(){},onEditorBlur:function(t,html){},onEditorFocus:function(t){},onEditorChange:function(t){t.editor;var html=t.html;t.text;html!==this.noteEditing.content&&this.updateNote(),this.noteEditing.content=html}},components:{mAside:aside.a,mButton:l.a,mPopover:c.a}}),f=(n(284),n(34)),component=Object(f.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("m-aside"),t._v(" "),n("div",{staticClass:"note-list",class:{animate:t.editing}},[n("div",{staticClass:"header"},[n("div",{staticClass:"row"},[n("m-popover",{attrs:{position:"bottom"}},[n("h3",[t._v(t._s(t.currentBook.name)+" "),n("i",{staticClass:"iconfont icon-arrow-bottom"})]),t._v(" "),n("template",{slot:"content"},[n("ul",[n("li",{on:{click:function(e){return t.selectBook()}}},[t._v("全部笔记")]),t._v(" "),t._l(t.books,function(e){return n("li",{key:e.id,on:{click:function(n){return t.selectBook(e)}}},[t._v(t._s(e.bookname))])})],2)])],2),t._v(" "),n("i",{staticClass:"iconfont icon-add-note",staticStyle:{color:"#311abf","font-size":"24px"},on:{click:t.addNote}})],1),t._v(" "),n("div",{staticClass:"row"},[n("h6",[t._v("2条笔记")]),t._v(" "),n("m-popover",{attrs:{position:"bottom"}},[n("span",[t._v("选项 "),n("i",{staticClass:"iconfont icon-arrow-bottom"})]),t._v(" "),n("template",{slot:"content"},[n("ul",{staticClass:"sort-list"},[n("li",{on:{click:function(e){return t.sort("update_date")}}},[t._v("按更新日期排序(最早)")]),t._v(" "),n("li",{on:{click:function(e){return t.sort("update_date","DESC")}}},[t._v("按更新日期排序(最新)")]),t._v(" "),n("li",{on:{click:function(e){return t.sort("create_date")}}},[t._v("按创建日期排序(最早)")]),t._v(" "),n("li",{on:{click:function(e){return t.sort("create_date","DESC")}}},[t._v("按创建日期排序(最新)")])])])],2)],1)]),t._v(" "),n("ul",{ref:"list",staticClass:"list"},t._l(t.notes,function(e,o){return n("li",{key:e.id,ref:e.id,refInFor:!0,class:{active:t.currentNote.id===e.id},on:{click:function(n){return t.selectNote(e)}}},[n("div",{staticClass:"title"},[n("h4",[t._v(t._s(e.title))]),t._v(" "),n("span",{on:{click:function(n){return t.deleteNote(e.id,o)}}},[n("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),n("time",[t._v(t._s(t._f("timestampToDate")(e.create_date)))]),t._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.substr(e.content))}})])}),0)]),t._v(" "),n("div",{staticClass:"editor"},[n("div",{staticClass:"header"},[n("div",{staticClass:"left"},[n("i",{staticClass:"iconfont icon-notebook"}),t._v(" "),n("span",[t._v("笔记本")]),t._v(" "),n("i",{staticClass:"iconfont icon-tag"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.noteEditing.title,expression:"noteEditing.title"}],attrs:{type:"text",placeholder:"标题"},domProps:{value:t.noteEditing.title},on:{change:t.updateNote,input:function(e){e.target.composing||t.$set(t.noteEditing,"title",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"right"},[n("m-button",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],on:{click:t.saveNote}},[t._v("保存")]),t._v(" "),n("m-button",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],on:{click:t.cancelEditing}},[t._v("取消")]),t._v(" "),n("i",{staticClass:"iconfont icon-clock"}),t._v(" "),n("i",{staticClass:"iconfont icon-star"}),t._v(" "),n("i",{staticClass:"iconfont icon-trash",on:{click:function(e){return t.deleteNote(t.noteEditing.id)}}}),t._v(" "),n("i",{staticClass:"iconfont icon-extend",on:{click:t.enterFullScreen}})],1)]),t._v(" "),n("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditor",value:t.editorOption,expression:"editorOption",arg:"myQuillEditor"}],staticClass:"quill-editor",attrs:{content:t.noteEditing.content},on:{change:function(e){return t.onEditorChange(e)},blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)}}})])],1)},[],!1,null,null,null);e.default=component.exports}}]);